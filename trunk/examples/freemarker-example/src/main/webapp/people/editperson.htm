<#import "/ftl/waffle/form.ftl" as w>
<div class="editContainer" xmlns="http://www.w3.org/1999/xhtml">

    <h3>Edit Person</h3>

    <#if errors.hasErrorMessages()>
        <div class="errors">
            <#list errors.allErrorMessages as error>
                <div class="error">
                  ${error.message}
                </div>
            </#list>
        </div>
    </#if>

    <div class="fieldRow">
        <label for="person.id">Id:</label>
        <@w.text "person.id" "${person.id}" "readonly='true' disabled='true'"/>
        <br style="clear:both"/>
    </div>
    <div class="fieldRow">
        <label for="person.firstName">First Name:</label>
        <@w.text "person.firstName" "${person.firstName}"/>
        <br style="clear:both"/>
    </div>
    <div class="fieldRow">
        <label for="person.lastName">Last Name:</label>
        <@w.text "person.lastName" "${person.lastName}"/>
        <br style="clear:both"/>
    </div>
    <div class="fieldRow">
        <label for="person.email">Email:</label>
        <@w.text "person.email" "${person.email}"/>
        <br style="clear:both"/>
    </div>
    <div class="fieldRow">
        <label for="person.skills">Skills:</label>
        <@w.selectMultiple "person.skills" controller.getSkills() person.getSkills() "size='5'"/>
        <br style="clear:both"/>
    </div>
    <!-- TODO fix freemarker exception when submitting date
    <div class="fieldRow">
        <label for="person.dateOfBirth">Date Of Birth:</label>
        <input type="text" name="person.dateOfBirth" id="person.dateOfBirth" value="${person.dateOfBirth?string("dd-MM-yyyy")}"/>
        <br style="clear:both"/>
    </div>-->

    <br/>
    <a href="javascript:fireActionMethod('save');">Save</a> |
    <a href="javascript:fireActionMethod('cancel');">Cancel</a>

    <#include "../fielderrors.htm" parse="true">

</div>