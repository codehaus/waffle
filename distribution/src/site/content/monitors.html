<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Monitors</title>
  </head>
  <body>

  <h2>Monitors</h2>
  <p>
    Waffle was designed to provide easy monitoring of every aspect of its functionality.
    The Monitor Pattern has been adopted to allow the use to be notified of the relevant events.
    Each major area of functionaliy has a corresponding Monitor interface which defines events:
  </p>
  <table class="bodyTable">
    <tbody>
      <tr class="a">
        <td align="left"><b>Monitor</b></td>
      </tr>      
      <tr class="b">
        <td align="left"><a href="javadoc/core/org/codehaus/waffle/monitor/ActionMonitor.html">
        org.codehaus.waffle.monitor.ActionMonitor</a></td>
      </tr>
      <tr class="b">
        <td align="left"><a href="javadoc/core/org/codehaus/waffle/monitor/BindMonitor.html">
        org.codehaus.waffle.monitor.BindMonitor</a></td>
      </tr>
      <tr class="b">
        <td align="left"><a href="javadoc/core/org/codehaus/waffle/monitor/ContextMonitor.html">
        org.codehaus.waffle.monitor.ContextMonitor</a></td>
      </tr>
      <tr class="b">
        <td align="left"><a href="javadoc/core/org/codehaus/waffle/monitor/ControllerMonitor.html">
        org.codehaus.waffle.monitor.ControllerMonitor</a></td>
      </tr>
      <tr class="b">
        <td align="left"><a href="javadoc/core/org/codehaus/waffle/monitor/RegistrarMonitor.html">
        org.codehaus.waffle.monitor.RegistrarMonitor</a></td>
      </tr>
      <tr class="b">
        <td align="left"><a href="javadoc/core/org/codehaus/waffle/monitor/ServletMonitor.html">
        org.codehaus.waffle.monitor.ServletMonitor</a></td>
      </tr>
      <tr class="b">
        <td align="left"><a href="javadoc/core/org/codehaus/waffle/monitor/ValidationMonitor.html">
        org.codehaus.waffle.monitor.ValidationMonitor</a></td>
      </tr>
      <tr class="b">
        <td align="left"><a href="javadoc/core/org/codehaus/waffle/monitor/ViewMonitor.html">
        org.codehaus.waffle.monitor.ViewMonitor</a></td>
      </tr>
    </tbody>
  </table>

  <h2>Writing Monitors</h2>
  
  <p>
    Waffle provides an abstract implementation of <b>all</b> the monitor interfaces in 
    <b><a href="javadoc/core/org/codehaus/waffle/monitor/AbstractWritingMonitor.html">
        org.codehaus.waffle.monitor.AbstractWritingMonitor</a></b> and two concrete implementations:
    <b><a href="javadoc/core/org/codehaus/waffle/monitor/CommonsLoggingMonitor.html">
        org.codehaus.waffle.monitor.CommonsLoggingMonitor</a></b> (which delegates to Commons Logging) 
    and <b><a href="javadoc/core/org/codehaus/waffle/monitor/SilentMonitor.html">
        org.codehaus.waffle.monitor.SilentMonitor</a></b> (which writes nothing).
  </p>
    
  <p>
    <b><a href="javadoc/core/org/codehaus/waffle/monitor/AbstractWritingMonitor.html">
        org.codehaus.waffle.monitor.AbstractWritingMonitor</a></b> defines a default 
        <b><a href="javadoc/core/org/codehaus/waffle/monitor/Monitor.Level.html">
        org.codehaus.waffle.monitor.Monitor.Level</a> for each event and a default message
        template, which can be overridden via the <b>eventLevels()</b> and <b>eventTemplates()</b>
        methods.  By convention, the levels and templates are held in maps keyed on the event name:
        
   <textarea class="xml:nogutter:nocontrols" name="code">
        protected Map<String, Level> eventLevels(){
            Map<String, Level> levels = super.eventLevels();
            // change from INFO to DEBUG
            levels.put("defaultActionMethodFound", DEBUG); 
            return levels;
        }         
        protected Map<String, String> eventTemplates(){
            Map<String, Level> templates = super.eventTemplates();
            // changed text to be more verbose
            templates.put("defaultActionMethodFound", "The default ActionMethod has been found: {0}"); 
            return templates;
        }         
   </textarea>
  </p>
  
</body>

</html>
