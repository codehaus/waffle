<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>Select a person</title>
    <style type="text/css" title="currentStyle" media="screen">
        @import "../stylesheets/style.css";
    </style>
    <script src="../scripts/prototype.js" type="text/javascript">
        // keep this space
    </script>
    <script src="../scripts/myscript.js" type="text/javascript">
        // keep this space
    </script>
</head>

<body>
<form action="${base}/people/person.foo" method="post">

    <h3>Waffle example: Select Person</h3>

    <table>
        <tr>
            <th>Id</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Date of Birth</th>
        </tr>
        <#list controller.persons as person>
            <tr class="odd">
                <td>
                    <a href="${base}/people/person.foo?method=select|${person.id}">${person.id}</a>
                </td>
                <td>${person.firstName}</td>
                <td>${person.lastName}</td>
                <td>${person.email}</td>
                <td>${person.dateOfBirth?string("dd-MM-yyyy")}</td>
            </tr>
        </#list>
    </table>

    <a href="javascript:fireMethod('create');">New</a>

    <!-- Example of partial page -->
    <div id="editArea">
      <#if controller.person?exists>
        <#include "editperson.htm" parse="true">
      </#if>
    </div>

</form>
</body>

</html>